{
  "query": "\nCREATE TABLE IF NOT EXISTS `ai_chat_sessions` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `sessionUuid` varchar(36) NOT NULL UNIQUE,\n  `userId` int NOT NULL,\n  `projectId` int,\n  `taskId` varchar(100),\n  `title` varchar(255) DEFAULT 'Новый чат',\n  `messageCount` int DEFAULT 0,\n  `lastMessageAt` timestamp,\n  `isArchived` boolean DEFAULT false,\n  `isPinned` boolean DEFAULT false,\n  `createdAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  `updatedAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  PRIMARY KEY(`id`),\n  INDEX `acs_user_idx` (`userId`),\n  INDEX `acs_project_idx` (`projectId`)\n);\n\nCREATE TABLE IF NOT EXISTS `ai_chat_messages` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `sessionId` int NOT NULL,\n  `role` enum('user','assistant','system') NOT NULL,\n  `content` text NOT NULL,\n  `metadata` json,\n  `isFinalized` boolean DEFAULT false,\n  `decisionRecordId` int,\n  `createdAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  PRIMARY KEY(`id`),\n  INDEX `acm_session_idx` (`sessionId`),\n  INDEX `acm_role_idx` (`role`)\n);\n",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 3FfdjCLoumdFxBM.40c1cc0bca66 --database U4oWTJpkwb9eRxq5w7WA9g --execute \nCREATE TABLE IF NOT EXISTS `ai_chat_sessions` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `sessionUuid` varchar(36) NOT NULL UNIQUE,\n  `userId` int NOT NULL,\n  `projectId` int,\n  `taskId` varchar(100),\n  `title` varchar(255) DEFAULT 'Новый чат',\n  `messageCount` int DEFAULT 0,\n  `lastMessageAt` timestamp,\n  `isArchived` boolean DEFAULT false,\n  `isPinned` boolean DEFAULT false,\n  `createdAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  `updatedAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  PRIMARY KEY(`id`),\n  INDEX `acs_user_idx` (`userId`),\n  INDEX `acs_project_idx` (`projectId`)\n);\n\nCREATE TABLE IF NOT EXISTS `ai_chat_messages` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `sessionId` int NOT NULL,\n  `role` enum('user','assistant','system') NOT NULL,\n  `content` text NOT NULL,\n  `metadata` json,\n  `isFinalized` boolean DEFAULT false,\n  `decisionRecordId` int,\n  `createdAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  PRIMARY KEY(`id`),\n  INDEX `acm_session_idx` (`sessionId`),\n  INDEX `acm_role_idx` (`role`)\n);\n",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 110
}