/**
 * Script to populate TechRent Uzbekistan project with full roadmap structure
 * Run with: node scripts/populate-techrent.mjs
 */

import mysql from 'mysql2/promise';
import dotenv from 'dotenv';

dotenv.config();

const DATABASE_URL = process.env.DATABASE_URL;

// Parse DATABASE_URL
const url = new URL(DATABASE_URL);
const connection = await mysql.createConnection({
  host: url.hostname,
  port: parseInt(url.port) || 3306,
  user: url.username,
  password: url.password,
  database: url.pathname.slice(1),
  ssl: { rejectUnauthorized: false }
});

const PROJECT_ID = 1; // TechRent Uzbekistan

// Full roadmap structure
const roadmap = [
  {
    number: 1,
    title: "–ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ —Ä—ã–Ω–∫–∞",
    titleRu: "–ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ —Ä—ã–Ω–∫–∞",
    description: "–ê–Ω–∞–ª–∏–∑ —Ä—ã–Ω–∫–∞, –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤ –∏ —Ü–µ–ª–µ–≤–æ–π –∞—É–¥–∏—Ç–æ—Ä–∏–∏",
    duration: "1-2 –º–µ—Å—è—Ü–∞",
    icon: "üîç",
    sections: [
      {
        title: "–ê–Ω–∞–ª–∏–∑ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤",
        tasks: [
          "–ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –∞—Ä–µ–Ω–¥—ã —Ç–µ—Ö–Ω–∏–∫–∏ –≤ –°–ù–ì",
          "–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã—Ö –∏–≥—Ä–æ–∫–æ–≤ –≤ –£–∑–±–µ–∫–∏—Å—Ç–∞–Ω–µ",
          "–ò–∑—É—á–∏—Ç—å –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã–µ –∞–Ω–∞–ª–æ–≥–∏ (United Rentals, Sunbelt, BigRentz)",
          "–°–æ—Å—Ç–∞–≤–∏—Ç—å SWOT-–∞–Ω–∞–ª–∏–∑ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤",
          "–û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ TechRent"
        ]
      },
      {
        title: "–ê–Ω–∞–ª–∏–∑ —Ü–µ–ª–µ–≤–æ–π –∞—É–¥–∏—Ç–æ—Ä–∏–∏",
        tasks: [
          "–ü—Ä–æ–≤–µ—Å—Ç–∏ –∏–Ω—Ç–µ—Ä–≤—å—é —Å 20+ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã–º–∏ –∫–æ–º–ø–∞–Ω–∏—è–º–∏",
          "–û–ø—Ä–æ—Å–∏—Ç—å 10+ –≤–ª–∞–¥–µ–ª—å—Ü–µ–≤ —Å–ø–µ—Ü—Ç–µ—Ö–Ω–∏–∫–∏",
          "–û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∫–ª—é—á–µ–≤—ã–µ –±–æ–ª–∏ –∏ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏",
          "–°–æ–∑–¥–∞—Ç—å –ø–æ—Ä—Ç—Ä–µ—Ç—ã —Ü–µ–ª–µ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–ø–µ—Ä—Å–æ–Ω—ã)",
          "–û—Ü–µ–Ω–∏—Ç—å –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –ø–ª–∞—Ç–∏—Ç—å –∑–∞ —Å–µ—Ä–≤–∏—Å"
        ]
      },
      {
        title: "–ê–Ω–∞–ª–∏–∑ —Ä—ã–Ω–∫–∞ —Å–ø–µ—Ü—Ç–µ—Ö–Ω–∏–∫–∏",
        tasks: [
          "–û—Ü–µ–Ω–∏—Ç—å –æ–±—ä—ë–º —Ä—ã–Ω–∫–∞ –∞—Ä–µ–Ω–¥—ã —Å–ø–µ—Ü—Ç–µ—Ö–Ω–∏–∫–∏ –≤ –£–∑–±–µ–∫–∏—Å—Ç–∞–Ω–µ",
          "–û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ç–æ–ø-10 –∫–∞—Ç–µ–≥–æ—Ä–∏–π –≤–æ—Å—Ç—Ä–µ–±–æ–≤–∞–Ω–Ω–æ–π —Ç–µ—Ö–Ω–∏–∫–∏",
          "–ò–∑—É—á–∏—Ç—å —Å–µ–∑–æ–Ω–Ω–æ—Å—Ç—å —Å–ø—Ä–æ—Å–∞",
          "–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ü–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –Ω–∞ —Ä—ã–Ω–∫–µ",
          "–û—Ü–µ–Ω–∏—Ç—å –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª —Ä–æ—Å—Ç–∞ —Ä—ã–Ω–∫–∞ –Ω–∞ 5 –ª–µ—Ç"
        ]
      },
      {
        title: "–Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑",
        tasks: [
          "–ò–∑—É—á–∏—Ç—å –∑–∞–∫–æ–Ω–æ–¥–∞—Ç–µ–ª—å—Å—Ç–≤–æ –æ–± –∞—Ä–µ–Ω–¥–µ —Ç–µ—Ö–Ω–∏–∫–∏",
          "–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Å—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏—é",
          "–û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –Ω–∞–ª–æ–≥–æ–≤—ã–µ –∞—Å–ø–µ–∫—Ç—ã",
          "–ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å —à–∞–±–ª–æ–Ω—ã –¥–æ–≥–æ–≤–æ—Ä–æ–≤ –∞—Ä–µ–Ω–¥—ã",
          "–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è —Å —é—Ä–∏—Å—Ç–æ–º –ø–æ –ª–∏—Ü–µ–Ω–∑–∏—Ä–æ–≤–∞–Ω–∏—é"
        ]
      }
    ]
  },
  {
    number: 2,
    title: "MVP —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞",
    titleRu: "MVP —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞",
    description: "–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ –∂–∏–∑–Ω–µ—Å–ø–æ—Å–æ–±–Ω–æ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–∞",
    duration: "2-3 –º–µ—Å—è—Ü–∞",
    icon: "üíª",
    sections: [
      {
        title: "–î–∏–∑–∞–π–Ω –∏ UX",
        tasks: [
          "–°–æ–∑–¥–∞—Ç—å user flow –¥–ª—è –∞—Ä–µ–Ω–¥–∞—Ç–æ—Ä–æ–≤",
          "–°–æ–∑–¥–∞—Ç—å user flow –¥–ª—è –≤–ª–∞–¥–µ–ª—å—Ü–µ–≤ —Ç–µ—Ö–Ω–∏–∫–∏",
          "–†–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å wireframes –∫–ª—é—á–µ–≤—ã—Ö —ç–∫—Ä–∞–Ω–æ–≤",
          "–°–æ–∑–¥–∞—Ç—å UI kit –∏ –¥–∏–∑–∞–π–Ω-—Å–∏—Å—Ç–µ–º—É",
          "–†–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω (mobile-first)",
          "–ü—Ä–æ–≤–µ—Å—Ç–∏ UX-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ç–æ—Ç–∏–ø–∞"
        ]
      },
      {
        title: "Backend —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞",
        tasks: [
          "–°–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É —Å–∏—Å—Ç–µ–º—ã",
          "–°–æ–∑–¥–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö (—Ç–µ—Ö–Ω–∏–∫–∞, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –∑–∞–∫–∞–∑—ã)",
          "–†–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å API –¥–ª—è –∫–∞—Ç–∞–ª–æ–≥–∞ —Ç–µ—Ö–Ω–∏–∫–∏",
          "–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º—É –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è",
          "–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–ª–∞—Ç—ë–∂–Ω—É—é —Å–∏—Å—Ç–µ–º—É (Click, Payme)",
          "–ù–∞—Å—Ç—Ä–æ–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (SMS, Push, Email)",
          "–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≥–µ–æ–ª–æ–∫–∞—Ü–∏—é –∏ –∫–∞—Ä—Ç—É —Ç–µ—Ö–Ω–∏–∫–∏"
        ]
      },
      {
        title: "Frontend —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞",
        tasks: [
          "–†–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (React/Next.js)",
          "–°–æ–∑–¥–∞—Ç—å –º–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (React Native)",
          "–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫–∞—Ç–∞–ª–æ–≥ —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏ –∏ –ø–æ–∏—Å–∫–æ–º",
          "–°–æ–∑–¥–∞—Ç—å –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç –∞—Ä–µ–Ω–¥–∞—Ç–æ—Ä–∞",
          "–°–æ–∑–¥–∞—Ç—å –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç –≤–ª–∞–¥–µ–ª—å—Ü–∞ —Ç–µ—Ö–Ω–∏–∫–∏",
          "–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º—É –æ—Ç–∑—ã–≤–æ–≤ –∏ —Ä–µ–π—Ç–∏–Ω–≥–æ–≤",
          "–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —á–∞—Ç –º–µ–∂–¥—É —Å—Ç–æ—Ä–æ–Ω–∞–º–∏"
        ]
      },
      {
        title: "–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å",
        tasks: [
          "–ú–æ–¥–µ—Ä–∞—Ü–∏—è –æ–±—ä—è–≤–ª–µ–Ω–∏–π —Ç–µ—Ö–Ω–∏–∫–∏",
          "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏",
          "–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –æ—Ç—á—ë—Ç—ã",
          "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏",
          "–°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ (—Ç–∏–∫–µ—Ç—ã)"
        ]
      }
    ]
  },
  {
    number: 3,
    title: "–ó–∞–ø—É—Å–∫ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ",
    titleRu: "–ó–∞–ø—É—Å–∫ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ",
    description: "–ë–µ—Ç–∞-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ soft launch –≤ –¢–∞—à–∫–µ–Ω—Ç–µ",
    duration: "1-2 –º–µ—Å—è—Ü–∞",
    icon: "üöÄ",
    sections: [
      {
        title: "–ë–µ—Ç–∞-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ",
        tasks: [
          "–ù–∞–±—Ä–∞—Ç—å 50 –≤–ª–∞–¥–µ–ª—å—Ü–µ–≤ —Ç–µ—Ö–Ω–∏–∫–∏ –¥–ª—è –±–µ—Ç–∞-—Ç–µ—Å—Ç–∞",
          "–ü—Ä–∏–≤–ª–µ—á—å 100 –∞—Ä–µ–Ω–¥–∞—Ç–æ—Ä–æ–≤ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è",
          "–°–æ–±—Ä–∞—Ç—å –æ–±—Ä–∞—Ç–Ω—É—é —Å–≤—è–∑—å –∏ –±–∞–≥–∏",
          "–ü—Ä–æ–≤–µ—Å—Ç–∏ –Ω–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ",
          "–ò—Å–ø—Ä–∞–≤–∏—Ç—å –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –±–∞–≥–∏"
        ]
      },
      {
        title: "–ö–æ–Ω—Ç–µ–Ω—Ç –∏ –∫–∞—Ç–∞–ª–æ–≥",
        tasks: [
          "–°–æ–∑–¥–∞—Ç—å 500+ –∫–∞—Ä—Ç–æ—á–µ–∫ —Ç–µ—Ö–Ω–∏–∫–∏",
          "–û—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—É—é —Ñ–æ—Ç–æ—Å—ä—ë–º–∫—É",
          "–ù–∞–ø–∏—Å–∞—Ç—å –æ–ø–∏—Å–∞–Ω–∏—è –¥–ª—è –≤—Å–µ—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π",
          "–°–æ–∑–¥–∞—Ç—å FAQ –∏ —Å–ø—Ä–∞–≤–æ—á–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã",
          "–ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –æ–±—É—á–∞—é—â–∏–µ –≤–∏–¥–µ–æ"
        ]
      },
      {
        title: "–Æ—Ä–∏–¥–∏—á–µ—Å–∫–æ–µ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ",
        tasks: [
          "–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –û–û–û/–ò–ü",
          "–û—Ç–∫—Ä—ã—Ç—å —Ä–∞—Å—á—ë—Ç–Ω—ã–π —Å—á—ë—Ç",
          "–ü–æ–¥–∫–ª—é—á–∏—Ç—å —ç–∫–≤–∞–π—Ä–∏–Ω–≥",
          "–û—Ñ–æ—Ä–º–∏—Ç—å –¥–æ–≥–æ–≤–æ—Ä—ã —Å –ø–∞—Ä—Ç–Ω—ë—Ä–∞–º–∏",
          "–ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ"
        ]
      },
      {
        title: "Soft Launch",
        tasks: [
          "–ó–∞–ø—É—Å–∫ –≤ –æ–¥–Ω–æ–º —Ä–µ–≥–∏–æ–Ω–µ (–¢–∞—à–∫–µ–Ω—Ç)",
          "–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –º–µ—Ç—Ä–∏–∫ (–∫–æ–Ω–≤–µ—Ä—Å–∏—è, retention)",
          "A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–ª—é—á–µ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π",
          "–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≤–æ—Ä–æ–Ω–∫–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è",
          "–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—é"
        ]
      }
    ]
  },
  {
    number: 4,
    title: "–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥ –∏ –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏–µ",
    titleRu: "–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥ –∏ –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏–µ",
    description: "–ü—Ä–∏–≤–ª–µ—á–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –ø–∞—Ä—Ç–Ω—ë—Ä–æ–≤",
    duration: "–ü–æ—Å—Ç–æ—è–Ω–Ω–æ",
    icon: "üì¢",
    sections: [
      {
        title: "Digital –º–∞—Ä–∫–µ—Ç–∏–Ω–≥",
        tasks: [
          "SEO-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å–∞–π—Ç–∞",
          "–ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–∞—è —Ä–µ–∫–ª–∞–º–∞ (Google, Yandex)",
          "–¢–∞—Ä–≥–µ—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ä–µ–∫–ª–∞–º–∞ (Facebook, Instagram)",
          "SMM-—Å—Ç—Ä–∞—Ç–µ–≥–∏—è –∏ –∫–æ–Ω—Ç–µ–Ω—Ç-–ø–ª–∞–Ω",
          "Email-–º–∞—Ä–∫–µ—Ç–∏–Ω–≥ –∏ —Ä–∞—Å—Å—ã–ª–∫–∏"
        ]
      },
      {
        title: "Offline –º–∞—Ä–∫–µ—Ç–∏–Ω–≥",
        tasks: [
          "–£—á–∞—Å—Ç–∏–µ –≤ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã—Ö –≤—ã—Å—Ç–∞–≤–∫–∞—Ö",
          "–ü–∞—Ä—Ç–Ω—ë—Ä—Å—Ç–≤–æ —Å–æ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã–º–∏ –∫–æ–º–ø–∞–Ω–∏—è–º–∏",
          "–†–∞–∑–¥–∞—Ç–æ—á–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã (–≤–∏–∑–∏—Ç–∫–∏, –±—É–∫–ª–µ—Ç—ã)",
          "–†–µ–∫–ª–∞–º–∞ –Ω–∞ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–∞—Ö",
          "PR –≤ –æ—Ç—Ä–∞—Å–ª–µ–≤—ã—Ö –°–ú–ò"
        ]
      },
      {
        title: "–ü–∞—Ä—Ç–Ω—ë—Ä—Å–∫–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞",
        tasks: [
          "–ü—Ä–æ–≥—Ä–∞–º–º–∞ –¥–ª—è –¥–∏–ª–µ—Ä–æ–≤ —Ç–µ—Ö–Ω–∏–∫–∏",
          "–†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π",
          "–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –±–∞–Ω–∫–∞–º–∏ (–ª–∏–∑–∏–Ω–≥)",
          "–ü–∞—Ä—Ç–Ω—ë—Ä—Å—Ç–≤–æ —Å–æ —Å—Ç—Ä–∞—Ö–æ–≤—ã–º–∏ –∫–æ–º–ø–∞–Ω–∏—è–º–∏",
          "–ö–æ–ª–ª–∞–±–æ—Ä–∞—Ü–∏–∏ —Å –ª–æ–≥–∏—Å—Ç–∏—á–µ—Å–∫–∏–º–∏ –∫–æ–º–ø–∞–Ω–∏—è–º–∏"
        ]
      },
      {
        title: "–ö–æ–Ω—Ç–µ–Ω—Ç-–º–∞—Ä–∫–µ—Ç–∏–Ω–≥",
        tasks: [
          "–ë–ª–æ–≥ –æ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω–æ–π —Ç–µ—Ö–Ω–∏–∫–µ",
          "YouTube –∫–∞–Ω–∞–ª —Å –æ–±–∑–æ—Ä–∞–º–∏",
          "Telegram –∫–∞–Ω–∞–ª —Å –Ω–æ–≤–æ—Å—Ç—è–º–∏",
          "–ö–µ–π—Å—ã —É—Å–ø–µ—à–Ω—ã—Ö –∞—Ä–µ–Ω–¥–∞—Ç–æ—Ä–æ–≤",
          "–ì–∞–π–¥—ã –ø–æ –≤—ã–±–æ—Ä—É —Ç–µ—Ö–Ω–∏–∫–∏"
        ]
      }
    ]
  },
  {
    number: 5,
    title: "–ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ",
    titleRu: "–ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ",
    description: "–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –≥–µ–æ–≥—Ä–∞—Ñ–∏–∏ –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞",
    duration: "6-12 –º–µ—Å—è—Ü–µ–≤",
    icon: "üìà",
    sections: [
      {
        title: "–ì–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ",
        tasks: [
          "–ó–∞–ø—É—Å–∫ –≤ –°–∞–º–∞—Ä–∫–∞–Ω–¥–µ",
          "–ó–∞–ø—É—Å–∫ –≤ –ë—É—Ö–∞—Ä–µ",
          "–ó–∞–ø—É—Å–∫ –≤ –ù–∞–º–∞–Ω–≥–∞–Ω–µ",
          "–ó–∞–ø—É—Å–∫ –≤ –ê–Ω–¥–∏–∂–∞–Ω–µ",
          "–ü–æ–∫—Ä—ã—Ç–∏–µ –≤—Å–µ—Ö –æ–±–ª–∞—Å—Ç–µ–π –£–∑–±–µ–∫–∏—Å—Ç–∞–Ω–∞"
        ]
      },
      {
        title: "–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –∫–∞—Ç–∞–ª–æ–≥–∞",
        tasks: [
          "–î–æ–±–∞–≤–∏—Ç—å —Å–µ–ª—å—Ö–æ–∑—Ç–µ—Ö–Ω–∏–∫—É",
          "–î–æ–±–∞–≤–∏—Ç—å –≥—Ä—É–∑–æ–≤–æ–π —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç",
          "–î–æ–±–∞–≤–∏—Ç—å —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã",
          "–î–æ–±–∞–≤–∏—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∏ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ",
          "–î–æ–±–∞–≤–∏—Ç—å –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤ —Ç–µ—Ö–Ω–∏–∫–∏ (—É—Å–ª—É–≥–∏)"
        ]
      },
      {
        title: "–ù–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏",
        tasks: [
          "–ê—É–∫—Ü–∏–æ–Ω –Ω–∞ –∞—Ä–µ–Ω–¥—É —Ç–µ—Ö–Ω–∏–∫–∏",
          "–î–æ–ª–≥–æ—Å—Ä–æ—á–Ω–∞—è –∞—Ä–µ–Ω–¥–∞ (–ª–∏–∑–∏–Ω–≥)",
          "–°—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏–µ –æ–Ω–ª–∞–π–Ω",
          "GPS-—Ç—Ä–µ–∫–∏–Ω–≥ —Ç–µ—Ö–Ω–∏–∫–∏",
          "–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å ERP —Å–∏—Å—Ç–µ–º–∞–º–∏"
        ]
      },
      {
        title: "–ú–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω–∞—è —ç–∫—Å–ø–∞–Ω—Å–∏—è",
        tasks: [
          "–ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ —Ä—ã–Ω–∫–∞ –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω–∞",
          "–ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ —Ä—ã–Ω–∫–∞ –ö—ã—Ä–≥—ã–∑—Å—Ç–∞–Ω–∞",
          "–ê–¥–∞–ø—Ç–∞—Ü–∏—è –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –¥–ª—è –Ω–æ–≤—ã—Ö —Ä—ã–Ω–∫–æ–≤",
          "–ü–∞—Ä—Ç–Ω—ë—Ä—Å—Ç–≤–∞ —Å –ª–æ–∫–∞–ª—å–Ω—ã–º–∏ –∏–≥—Ä–æ–∫–∞–º–∏",
          "–ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å (—É–∑–±, —Ä—É—Å, –∞–Ω–≥–ª, –∫–∞–∑)"
        ]
      }
    ]
  },
  {
    number: 6,
    title: "–ú–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—è",
    titleRu: "–ú–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—è",
    description: "–ú–æ–¥–µ–ª–∏ –∑–∞—Ä–∞–±–æ—Ç–∫–∞ –∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É—Å–ª—É–≥–∏",
    duration: "–ü–æ—Å—Ç–æ—è–Ω–Ω–æ",
    icon: "üí∞",
    sections: [
      {
        title: "–ö–æ–º–∏—Å—Å–∏–æ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å",
        tasks: [
          "–ö–æ–º–∏—Å—Å–∏—è —Å –∫–∞–∂–¥–æ–π —Å–¥–µ–ª–∫–∏ (5-15%)",
          "–ü–æ–¥–ø–∏—Å–∫–∞ –¥–ª—è –≤–ª–∞–¥–µ–ª—å—Ü–µ–≤ —Ç–µ—Ö–Ω–∏–∫–∏",
          "–ü—Ä–µ–º–∏—É–º-—Ä–∞–∑–º–µ—â–µ–Ω–∏–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–π",
          "–ü—Ä–æ–¥–≤–∏–∂–µ–Ω–∏–µ –≤ —Ç–æ–ø –∫–∞—Ç–∞–ª–æ–≥–∞"
        ]
      },
      {
        title: "–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É—Å–ª—É–≥–∏",
        tasks: [
          "–°—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏–µ —Ç–µ—Ö–Ω–∏–∫–∏",
          "–î–æ—Å—Ç–∞–≤–∫–∞ —Ç–µ—Ö–Ω–∏–∫–∏",
          "–¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ",
          "–§–∏–Ω–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–∏–µ (—Ä–∞—Å—Å—Ä–æ—á–∫–∞)",
          "–û–±—É—á–µ–Ω–∏–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤"
        ]
      },
      {
        title: "B2B —É—Å–ª—É–≥–∏",
        tasks: [
          "–ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ —Ç–∞—Ä–∏—Ñ—ã",
          "API –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏",
          "White-label —Ä–µ—à–µ–Ω–∏—è",
          "–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –¥–ª—è –±–∏–∑–Ω–µ—Å–∞",
          "–¢–µ–Ω–¥–µ—Ä–Ω–∞—è –ø–ª–æ—â–∞–¥–∫–∞"
        ]
      }
    ]
  },
  {
    number: 7,
    title: "–ö–æ–º–∞–Ω–¥–∞ –∏ –æ–ø–µ—Ä–∞—Ü–∏–∏",
    titleRu: "–ö–æ–º–∞–Ω–¥–∞ –∏ –æ–ø–µ—Ä–∞—Ü–∏–∏",
    description: "–ù–∞–π–º –∫–æ–º–∞–Ω–¥—ã –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤",
    duration: "–ü–æ—Å—Ç–æ—è–Ω–Ω–æ",
    icon: "üë•",
    sections: [
      {
        title: "–ù–∞–π–º –∫–æ–º–∞–Ω–¥—ã",
        tasks: [
          "CTO / –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –¥–∏—Ä–µ–∫—Ç–æ—Ä",
          "Backend —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ (2)",
          "Frontend —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ (2)",
          "UI/UX –¥–∏–∑–∞–π–Ω–µ—Ä",
          "Product Manager",
          "–ú–∞—Ä–∫–µ—Ç–æ–ª–æ–≥",
          "–ú–µ–Ω–µ–¥–∂–µ—Ä –ø–æ –ø—Ä–æ–¥–∞–∂–∞–º (3)",
          "–°–ª—É–∂–±–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ (2)"
        ]
      },
      {
        title: "–ü—Ä–æ—Ü–µ—Å—Å—ã",
        tasks: [
          "–ù–∞—Å—Ç—Ä–æ–∏—Ç—å Agile/Scrum –ø—Ä–æ—Ü–µ—Å—Å—ã",
          "–í–Ω–µ–¥—Ä–∏—Ç—å CI/CD",
          "–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –∞–ª–µ—Ä—Ç—ã",
          "–°–æ–∑–¥–∞—Ç—å –±–∞–∑—É –∑–Ω–∞–Ω–∏–π",
          "–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å API"
        ]
      },
      {
        title: "–§–∏–Ω–∞–Ω—Å—ã",
        tasks: [
          "–°–æ—Å—Ç–∞–≤–∏—Ç—å —Ñ–∏–Ω–∞–Ω—Å–æ–≤—É—é –º–æ–¥–µ–ª—å",
          "–û–ø—Ä–µ–¥–µ–ª–∏—Ç—å unit-—ç–∫–æ–Ω–æ–º–∏–∫—É",
          "–ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å pitch deck",
          "–ù–∞–π—Ç–∏ –∏–Ω–≤–µ—Å—Ç–æ—Ä–æ–≤ (seed —Ä–∞—É–Ω–¥)",
          "–ü–æ–¥–∞—Ç—å –Ω–∞ –≥—Ä–∞–Ω—Ç—ã (IT Park)"
        ]
      }
    ]
  }
];

async function main() {
  console.log('Starting TechRent roadmap population...');
  
  // First, delete existing blocks for the project (except block 1)
  const [existingBlocks] = await connection.execute(
    'SELECT id FROM blocks WHERE projectId = ? AND id != 1',
    [PROJECT_ID]
  );
  
  for (const block of existingBlocks) {
    // Delete tasks first
    await connection.execute(
      'DELETE FROM tasks WHERE sectionId IN (SELECT id FROM sections WHERE blockId = ?)',
      [block.id]
    );
    // Delete sections
    await connection.execute('DELETE FROM sections WHERE blockId = ?', [block.id]);
    // Delete block
    await connection.execute('DELETE FROM blocks WHERE id = ?', [block.id]);
  }
  
  // Update block 1 with full data
  const block1 = roadmap[0];
  await connection.execute(
    `UPDATE blocks SET 
      title = ?, titleRu = ?, description = ?, duration = ?, icon = ?
    WHERE id = 1`,
    [block1.title, block1.titleRu, block1.description, block1.duration, block1.icon]
  );
  
  // Delete existing sections and tasks for block 1
  await connection.execute(
    'DELETE FROM tasks WHERE sectionId IN (SELECT id FROM sections WHERE blockId = 1)'
  );
  await connection.execute('DELETE FROM sections WHERE blockId = 1');
  
  // Add sections and tasks for block 1
  let sectionOrder = 0;
  for (const section of block1.sections) {
    const [sectionResult] = await connection.execute(
      'INSERT INTO sections (blockId, title, sortOrder) VALUES (?, ?, ?)',
      [1, section.title, sectionOrder++]
    );
    const sectionId = sectionResult.insertId;
    
    let taskOrder = 0;
    for (const taskTitle of section.tasks) {
      await connection.execute(
        'INSERT INTO tasks (sectionId, title, status, sortOrder) VALUES (?, ?, ?, ?)',
        [sectionId, taskTitle, 'not_started', taskOrder++]
      );
    }
    console.log(`  Added section: ${section.title} with ${section.tasks.length} tasks`);
  }
  console.log(`Updated block 1: ${block1.title}`);
  
  // Create remaining blocks (2-7)
  for (let i = 1; i < roadmap.length; i++) {
    const block = roadmap[i];
    
    const [blockResult] = await connection.execute(
      `INSERT INTO blocks (projectId, number, title, titleRu, description, duration, icon, sortOrder) 
       VALUES (?, ?, ?, ?, ?, ?, ?, ?)`,
      [PROJECT_ID, block.number, block.title, block.titleRu, block.description, block.duration, block.icon, i]
    );
    const blockId = blockResult.insertId;
    console.log(`Created block ${block.number}: ${block.title}`);
    
    // Add sections and tasks
    let sectionOrder = 0;
    for (const section of block.sections) {
      const [sectionResult] = await connection.execute(
        'INSERT INTO sections (blockId, title, sortOrder) VALUES (?, ?, ?)',
        [blockId, section.title, sectionOrder++]
      );
      const sectionId = sectionResult.insertId;
      
      let taskOrder = 0;
      for (const taskTitle of section.tasks) {
        await connection.execute(
          'INSERT INTO tasks (sectionId, title, status, sortOrder) VALUES (?, ?, ?, ?)',
          [sectionId, taskTitle, 'not_started', taskOrder++]
        );
      }
      console.log(`  Added section: ${section.title} with ${section.tasks.length} tasks`);
    }
  }
  
  // Count total tasks
  const [taskCount] = await connection.execute(
    `SELECT COUNT(*) as count FROM tasks t
     JOIN sections s ON t.sectionId = s.id
     JOIN blocks b ON s.blockId = b.id
     WHERE b.projectId = ?`,
    [PROJECT_ID]
  );
  
  console.log(`\n‚úÖ TechRent roadmap populated successfully!`);
  console.log(`   Total blocks: ${roadmap.length}`);
  console.log(`   Total sections: ${roadmap.reduce((acc, b) => acc + b.sections.length, 0)}`);
  console.log(`   Total tasks: ${taskCount[0].count}`);
  
  await connection.end();
}

main().catch(console.error);
